<!--
 * @Description: In User Settings Edit
 * @Author: your name
 * @Date: 2019-08-29 08:55:32
 * @LastEditTime: 2019-08-29 21:20:15
 * @LastEditors: Please set LastEditors
 -->
<!DOCTYPE html>
<html lang="zh-cmn-Hans">
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1, user-scalable=0">
    <meta name="robots" content="noindex,follow">
    <title>文件浏览</title>
    <style rel="stylesheet" type="text/css">
        * {margin : 0;padding : 0;}
        
        html, body {width : 100%;height : 100%;overflow : hidden;}
        
        #ckfinder {height : 100%;}
    
    </style>
</head>
<body>
<input type="hidden" id="ckfinder-con" value="">
<div id="ckfinder"></div>


<script src="__STATIC__/ckfinder/ckfinder3.4.2.js"></script>
<script type="text/javascript">
    var ckID = 'ckfinder';
    var connectorPath = '{$ckfinder_url}';
    CKFinder.widget(ckID, {
        connectorPath: connectorPath,
        // chooseFiles: true,
        height: '100%',
        skin: 'Neko',
        swatch: 'b',
        onInit: function (finder) {
            finder.on('files:choose', function (evt) {
                var file = evt.data.files.first();
                document.getElementById('ckfinder-con').value = file.getUrl();
            });
            finder.on('file:choose:resizedImage', function (evt) {
                document.getElementById('ckfinder-con').value = evt.data.resizedUrl;
            });
        }
    });
</script>
</body>
</html>